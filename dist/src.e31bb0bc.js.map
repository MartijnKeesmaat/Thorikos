{"version":3,"sources":["gridCodes.js","helpers.js","draw-map.js","map.js","draw-bar-chart.js","index.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["grid","normalize","value","min","max","update","svg","spatialGrid","t","d3","transition","duration","values","map","i","highestValue","selectAll","data","attr","d","text","drawGrid","enter","append","column","row","exit","remove","macro","console","log","fetch","then","response","json","handleData","select","newData","filter","SEASON","formatData","spatialGrid2","setTimeout","countMacroCodes","createSpatialGrid","finding","getContextNumberDetails","CONTEXT","year","noMacroInObject","contextNumber","regex","contextNumberSearch","exec","meso","micro","forEach","square","tempObj","push","showMacroButton","document","querySelector","addEventListener","showMacro","showValueButton","showValue","isShowMacro","getElementById","checked","isShowValue","querySelectorAll","style","opacity","drawBarChart","mapped","getMap","obj","name","children","Object","e","keys","key","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","links","length","module"],"mappings":"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AAwB,AHAxB,EAA0BC,GAA1B,EAA+BC,GAA/B,EAAoC;AKO1C,AFNCyB,AFDF,ADCE,AIGF,AFEA,ECLEA,OAAO,AHAA,CGACC,AHAA5B,GGAR,CAAY,CHAC,GAAGC,GAAT,KAAiBC,GAAG,GAAGD,GGA9B,AHAO,CAAP;AMMAiG,AHLD,AHAA,AIIDrE,AFCA,EIAEqE,GFDG,CAAC,GECG,CAACG,IAAR,GAAeJ,AFDZ,CAAL,CACGnE,EEAkB,CAACuE,CFDtB,CACQ,EEAS,CAAUC,KAAV,CAAgB,CFAzBvE,EEAS,EAAqB,CAArB,GFAD,CEA2B,GAA1B,GAAgCwE,IAAI,CAACC,GAAL,EAA/C;ADEF,ACDEP,ALNK,AGKS,AFChBpE,EIAEoE,GJAG,CIAC,AJAA,CIACQ,EDCErB,AJPOjF,AGKI4B,MHLb,CAAgB3B,CKMrB,AFD0B,AFCvB,CIAasG,AFDW1E,AFC7B,CDNO,ACOJF,EGAH,AJP4BzB,CGKR,CFCpB,CGCwB,ADFR,AFER,MIDN,CAA6B6F,CLNxB,EAAkC,ACOjCnE,IIDN,EAAsCkE,EJCxB,EID4B,CAACU,WAA3C;ADEA,ACDD,ALNC,AGIc,AFEA,CEHhB,EAEG7E,GHLKxB,CAAC,AGGT,CAEQ,CFCYyB,CDNRxB,EAAE,CAACC,ICMa,CEDpBwB,AFCqBA,IEDjB,AFCQ,CDNR,CCMI,EDNYvB,QAAhB,CAAyB,GAAzB,CAAV;AIQA,AJPA,AGIU,AFCI,CADhB,EAEGqB,GGCG,AJPEpB,CCIR,CAEQ,CEFQuB,GHJF,GAAG5B,GCMT2B,CEFkB,CAACA,EFEf,EEFc,CAAd,CHJgB,CAACrB,GAAZ,CAAgB,UAAAC,CAAC;AIQ9B,ACDJ,ALPkC,AGItB,AFEA,CEJZ,GEKIgG,KJDY3E,CGEN,CJR4BrB,CAAC,CAACZ,CIQ1BqF,ACDA,GAAG,CLPiB,CIQxB,AHFgB,CAACrD,CGEvB,ACDJ,GJD0B,CAAd;AGGT,AJT+B,ACMtB,CAFZ,EGGE,AJPe,CISb,AJTF,OISSsD,GAAP,EAAY;AACZ,ACFJ,ALPE,AGKF,MHLQzE,EISA0E,CCFCsB,AFFA5E,MCIM,GAAG,ACFlB,ALPoB,CISD,ADJnB,CAAoBlB,CEEC,ALPER,EAAE,CISD+E,AJTEpF,AGK1B,EAA0B,CCIC,AJTJ,CISKsF,AJTE9E,KISZ,CJTK,CISY+E,AJTjC,KISgB,CAAuB,+DAAvB,CAAd;ACDF,ALNArF,AGIA,AFCF,EDLEA,ECKI6B,CDLD,CKMC2E,ALLD9F,QCIW,CDLd,CKMA,ALLa,CCII,CICD,ILNhB,EAEGC,ECGCkB,EDLJ,CAEQ5B,OCGS,CAAAU,GDLjB,CCKqB,CDFlBP,CCEsB,SDLzB,CAGcF,CAHd,EAIGU,IAJH,CAIQ,MAJR,EAIgB,UAAAC,CAAC;AIIf,ACDA,ALHe,AGEjB,AFAA,MEAMwD,AFAArE,EGEAmF,CHFG,EDFatE,CAAC,AGEX,AFAAV,CDFYP,CCEV,CGEZ,ADFa0E,AFAAxC,EGEA,CJJO,GGED,AFAT,CEAUnB,AFAA,IEAD,CAArB,CAHwB,AFGZ,CECZ,CFD8BM,MAAlB,CAAyB,KAAzB,CAAZ,CADyB,CAGzB,KDJsD,wBAAUJ,CAAC,CAACjB,KAAZ,EAAmB,CAAnB,EAAsBa,YAAtB,CAAhC,SAAyE,MAA9E;AIKb,ACDH,ALJgB,AGKjB,GHTA,EALuC,CASkE,OIK9F6E,UAAU,CAACH,OAAO,CAAC,CAAD,CAAR,CAAjB;AACD,AHDH,MAAMpD,OAAO,GAAGpB,IAAI,CAACqB,MAAL,CAAY,UAAAxB,CAAC;AGE5B,ACDDgG,ALJAxG,AGKA,AFF6B,EIC7BwG,ALJAxG,GAAG,CACAU,AGIG6D,GAAG,EFFwB/D,CICvB,AFCE,AFFsB,CAACyB,EICtBG,ALJb,CACa,GCEoB,IAAY,CDH7C,CKIuB,CAAC,ALFrBzB,CCC0B,GDH7B,CAEQV,OKE4B,ILJpC,EAGGa,IAHH,CAGQ,UAAAD,CAAC;AKEP,ALFO,AGGP2D,AFH2B,GAAb,CEGdA,AFHF,IIEMkC,AFCA,EAAE,CHHK7F,CAAC,CKEH,ALFIjB,GKED2D,AFAF,EHFH,MKEa,CAACU,gBAAT,CAA0B,wBAA1B,CAAZ;ADEF,AJJS,AGIPQ,AFFF,GDLA,CGOEA,EFFIxE,GGEC,GAAP,ADAU,EAAE,CACR,EFHa,GAAGiC,UAAU,CAACvB,IAAD,CAA9B;AGGD,ACFG,ALFH,AGKO6D,AFHN,MEGMA,AFHArC,GIAC,CFGG,EAAE,CEHD3B,CAAC,CFER,EEFW,CAAb,AJAgB,EIAAA,CAAC,AJAE0B,GIACwE,KAAK,CAACC,CJAG,CAAC5E,IIA9B,EAAkCvB,CAAC,AJAN,CAA/B,CIAE,EAAuC;AACrC,AFGEiE,AFFN,MEEMA,IEHEiB,IFGM,EEHA,AFGE,CEHDJ,QJCNtF,EIDD,CAAkB0G,AJC1B,EAAczG,GIDiB,CAACO,CAAD,CAAL,CAASyF,IAA3B,AJCR,MID6CP,MAAM,CAACV,YAAP,EAAzC,EAAgE;ADGtE,ACFQY,ALFD,AGED,AFEJxD,EAAAA,GEHY,GECNwD,CDECN,AJJOvE,GCIJ,CAAC,IDJN,CKEW,ALFOf,CIIzB,ACFmB0G,CDECnB,CJJb,EIIP,AJJ8BtF,CKEN,CDEC,ACFAO,AJEN,CIFK,CAAN,CAAV,MLFD,EAAoC;AIKzC,ACFK,ALFL,AGFY,AFMV,GENF,GHEMF,GIIC,CAAC,EJJI,GIICiF,AJJEtF,GIIR,EAAWuF,KHATxF,CDJiB,CIInB,AJJoBO,CIID,AHAxB,EDJa,ACID4B,CDJiB,UAAA3B,CAAC,ACI9B,wDGAK,EAA2F,IAA3F,IAAmG,GAA1G;AACD,ACFI,ALH6B,AGQhCkE,AFHC,EEGDA,CFLU,EAEP,GEGG,CAACpE,AFLG,CAAV,CDHoCE,CAAC,CAACZ,EGQtC,CAAcyE,EHRkB,IGQhC,EAAsBnB,OAAtB,CAA8B,UAACyB,CAAD,EAAInE,CAAJ,EAAU;AHRR,AGS9B+D,AFFFnC,EAAAA,CDPe,CAAf,AGSEmC,GAAG,CAACE,IFFI,CAAC,GEET,CAAa,CAAb,EAAgBA,KFFD,GEEf,CAAyBpB,IAAzB,CAA8B;ACFlCoC,ACFIe,ALJF,AGSIhC,AFFF,IIHAgC,ELJI/F,AGSF+D,CCHC,CAACQ,EDGE,EAAEN,EELE,GAAG,CLJG,AGSF,CAACE,CCHnB,CCFI,ALJmBzE,EIMA4E,AJNE,AGSb,CHTcjF,AGSFuE,CFFbrE,EDPY,CAAOM,ACO1B,EEEQ,AFFIL,EEEgBO,CAApB,CHTW,AGQW,CHRhC,MIMF,AHCI;AGAJiF,ACFG,ALHDzF,AGQI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","file":"src.e31bb0bc.js","sourceRoot":"../src","sourcesContent":["export const grid = [\n  0,\n  196,\n  195,\n  197,\n  200,\n  202,\n  203,\n  204,\n  206,\n  207,\n  151,\n  152,\n  157,\n  156,\n  159,\n  169,\n  168,\n  167,\n  166,\n  165,\n  0,\n  194,\n  193,\n  198,\n  199,\n  201,\n  209,\n  208,\n  205,\n  177,\n  150,\n  153,\n  154,\n  155,\n  158,\n  160,\n  161,\n  162,\n  163,\n  164,\n  104,\n  102,\n  101,\n  103,\n  105,\n  106,\n  107,\n  108,\n  109,\n  110,\n  111,\n  112,\n  113,\n  114,\n  115,\n  116,\n  117,\n  118,\n  119,\n  0,\n  0,\n  252,\n  0,\n  0,\n  253,\n  184,\n  183,\n  182,\n  129,\n  130,\n  131,\n  132,\n  133,\n  134,\n  135,\n  137,\n  138,\n  139,\n  0,\n  0,\n  0,\n  251,\n  0,\n  191,\n  187,\n  185,\n  186,\n  181,\n  121,\n  123,\n  145,\n  144,\n  142,\n  140,\n  136,\n  127,\n  128,\n  0,\n  0,\n  0,\n  0,\n  250,\n  192,\n  190,\n  188,\n  178,\n  179,\n  180,\n  120,\n  122,\n  147,\n  146,\n  143,\n  141,\n  124,\n  125,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  189,\n  0,\n  0,\n  172,\n  171,\n  173,\n  174,\n  175,\n  176,\n  170,\n  126,\n  0,\n  0,\n  0,\n  0,\n  0\n];\n","export function normalize(value, min, max) {\n  return (value - min) / (max - min);\n}\n","import { normalize } from './helpers';\n\nexport function update(svg, spatialGrid) {\n  const t = d3.transition().duration(750);\n  const values = spatialGrid.map(i => i.value);\n  const highestValue = d3.max(values);\n\n  svg\n    .selectAll('rect')\n    .data(spatialGrid)\n    .transition(t)\n    .attr('fill', d => (d.value ? `rgba(66, 142, 255, ${normalize(d.value, 0, highestValue)})` : '#fff')); // TODO Create a slider for the 500\n\n  svg\n    .selectAll('.value')\n    .data(spatialGrid)\n    .text(d => d.value);\n}\n\nexport function drawGrid(svg, spatialGrid) {\n  const values = spatialGrid.map(i => i.value);\n  const highestValue = d3.max(values);\n\n  svg\n    .selectAll('rect')\n    .data(spatialGrid)\n    .enter()\n    .append('rect')\n    .attr('x', (d, i) => d.column * 50)\n    .attr('y', (d, i) => d.row * 50)\n    .attr('fill', d => (d.value ? `rgba(66, 142, 255, ${normalize(d.value, 0, highestValue)})` : '#fff')) // TODO Create a slider for the 500\n    .attr('width', 50)\n    .attr('height', 50)\n    .exit()\n    .remove();\n\n  svg\n    .selectAll('.macro')\n    .data(spatialGrid)\n    .enter()\n    .append('text')\n    .attr('class', 'macro')\n    .text(d => (d.macro ? d.macro : ''))\n    .attr('x', (d, i) => d.column * 50 + 15)\n    .attr('y', (d, i) => d.row * 50 + 25);\n\n  svg\n    .selectAll('.value')\n    .data(spatialGrid)\n    .enter()\n    .append('text')\n    .attr('class', 'value')\n    .text(d => d.value)\n    .attr('x', (d, i) => d.column * 50 + 15)\n    .attr('y', (d, i) => d.row * 50 + 40);\n}\n","console.log('load map');\n\n// Distribute to seperate file\nimport { grid } from './gridCodes';\nimport { drawGrid, update } from './draw-map';\n\n// Load data file\n// TODO make this dynamic with an upload button\nfetch('data.json')\n  .then(response => response.json())\n  .then(json => handleData(json));\n\nconst handleData = data => {\n  const svg = d3.select('.map').append('svg');\n\n  // Format data\n  const newData = data.filter(i => i.SEASON == 2013);\n\n  const spatialGrid = formatData(data);\n  const spatialGrid2 = formatData(newData);\n\n  drawGrid(svg, spatialGrid);\n\n  setTimeout(() => {\n    update(svg, spatialGrid2);\n  }, 2000);\n\n  setTimeout(() => {\n    update(svg, spatialGrid);\n  }, 4000);\n};\n\nfunction formatData(data) {\n  let map = {};\n  map = countMacroCodes(data, map);\n  return createSpatialGrid(map);\n}\n\n/**\n * @param {arr} data (needs to contain an CONTEXT key)\n * @param {obj} map (empty)\n * @returns {obj} a map of the occurances of each macro code\n */\nfunction countMacroCodes(data, map) {\n  data.map(finding => {\n    const macro = getContextNumberDetails(finding.CONTEXT).macro;\n    const year = getContextNumberDetails(finding.CONTEXT).year;\n\n    // Only show the first year of the macro square: 124\n    if (year == 12 && macro == 124) return;\n    const noMacroInObject = !map[macro];\n    if (noMacroInObject) map[macro] = 1;\n    else map[macro]++;\n  });\n  return map;\n}\n\n/**\n   * @param {str} contextNumber (\"T13-124-1-A\")\n   * @returns {obj} of the individual values of the context code (see below)\n      \"T13-124-1-A\"\n      13 = year\n      124 = macro\n      1 = meso\n      A = micro\n   */\nfunction getContextNumberDetails(contextNumber) {\n  if (!contextNumber) return '';\n\n  const regex = /T(\\d{2})?-?(\\d{3})?-?([1234])?-?([ABCD1234])/g;\n  const contextNumberSearch = regex.exec(contextNumber);\n\n  return {\n    contextNumber: contextNumberSearch[0] || null,\n    year: contextNumberSearch[1] || null,\n    macro: contextNumberSearch[2] || null,\n    meso: contextNumberSearch[3] || null,\n    micro: contextNumberSearch[4] || null\n  };\n}\n\nfunction createSpatialGrid(map) {\n  const spatialGrid = [];\n\n  let row = 0;\n  let column = 0;\n\n  grid.forEach((square, i) => {\n    if (i % 20 === 0 && i !== 0) {\n      column = 0;\n      row++;\n    }\n\n    const tempObj = {\n      macro: square,\n      value: map[square],\n      column,\n      row\n    };\n\n    column++;\n    spatialGrid.push(tempObj);\n  });\n\n  return spatialGrid;\n}\n\nconst showMacroButton = document.querySelector('#showMacro');\nshowMacroButton.addEventListener('click', showMacro);\n\nconst showValueButton = document.querySelector('#showValue');\nshowValueButton.addEventListener('click', showValue);\n\nlet isShowMacro = document.getElementById('showMacro').checked;\nlet isShowValue = document.getElementById('showValue').checked;\n\nfunction showMacro() {\n  if (!isShowMacro) document.querySelectorAll('.macro').forEach(i => (i.style.opacity = 1));\n  else document.querySelectorAll('.macro').forEach(i => (i.style.opacity = 0));\n  isShowMacro = !isShowMacro;\n}\n\nfunction showValue() {\n  if (!isShowValue) document.querySelectorAll('.value').forEach(i => (i.style.opacity = 0.4));\n  else document.querySelectorAll('.value').forEach(i => (i.style.opacity = 0));\n  isShowValue = !isShowValue;\n}\n","export function drawBarChart() {\n  console.log('load draw bar chart');\n}\n","import './styles.scss';\nimport { map } from './map';\n\nimport { drawBarChart } from './draw-bar-chart';\ndrawBarChart();\n\nfetch('data.json')\n  .then(response => response.json())\n  .then(json => handleData(json));\n\nfunction handleData(data) {\n  // console.log(data[0]['SHAPE OBJECT']);\n\n  const mapped = getMap(data);\n  // console.log(mapped);\n\n  // console.log(Object.values(mapped).length);\n\n  const obj = {\n    name: 'root',\n    children: [\n      {\n        name: 'a',\n        children: []\n      }\n    ]\n  };\n\n  Object.values(mapped).forEach((e, i) => {\n    obj.children[0].children.push({\n      name: Object.keys(mapped)[i],\n      value: e\n    });\n  });\n\n  // deze he\n  console.log(obj);\n\n  // name: \"root\"\n  // children: Array(6)\n  // 0: { name: \"a\", children: Array(7) }\n  // 1: { name: \"b\", children: Array(9) }\n  // 2: { name: \"c\", children: Array(10) }\n  // 3: { name: \"d\", children: Array(6) }\n  // 4: { name: \"e\", children: Array(10) }\n  // 5: { name: \"f\", children: Array(9) }\n  // length: 6\n  // __proto__: Array(0)\n  // __proto__: Object\n}\n\nfunction getMap(data) {\n  const map = {};\n\n  data.forEach(e => {\n    const key = e['SHAPE OBJECT'];\n    if (!map[key]) map[key] = 1;\n    else map[key]++;\n  });\n  return map;\n}\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}